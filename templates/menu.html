<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiloganExpress Menu</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        /* BEST SELLERS SECTION */
        .best-sellers {
            text-align: center;
            margin: 40px 0;
        }

        .best-sellers h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #333;
        }

        .best-seller-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            justify-items: center;
        }

        .best-seller-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 260px;
            transition: 0.3s;
        }

        .best-seller-card:hover {
            transform: scale(1.03);
        }

        .best-seller-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .best-seller-info {
            padding: 15px;
        }

        .best-seller-info h3 {
            margin: 5px 0;
            font-size: 1.2em;
        }

        .best-seller-info p {
            color: #27ae60;
            font-weight: bold;
        }

        .best-seller-card button {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            font-size: 1em;
            cursor: pointer;
            border-top: 1px solid #eee;
        }

        .best-seller-card button:hover {
            background-color: #219150;
        }

        .menu-layout {
            display: grid;
            grid-template-columns: 1fr 3fr 1fr;
            gap: 20px;
            margin: 30px;
        }

        .categories, .cart {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .menu-card {
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-card img {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
            cursor: pointer;
        }

        .menu-info {
            flex: 1;
        }

        .menu-card form button {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 6px;
        }

        .menu-card form button:hover {
            background-color: #219150;
        }

        .cart button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            cursor: pointer;
            border-radius: 6px;
        }

        .cart button:hover {
            background: #c0392b;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            background: #27ae60;
            color: white;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="logo">
            <h1>SiloganExpress</h1>
            <p>Welcome, {{ session['user'] }}!</p>
        </div>
        <nav>
            <ul>
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('menu') }}" class="active">Menu</a></li>
                <li><a href="{{ url_for('aboutus') }}">About Us</a></li>
                <li><a href="{{ url_for('contact') }}">Contact</a></li>
                <li><a href="{{ url_for('cart') }}">ðŸ›’ Cart</a></li>
                <li><a href="{{ url_for('logout') }}">Logout</a></li>
            </ul>
        </nav>
    </header>

    <!-- âœ… BEST SELLERS -->
    <section class="best-sellers">
        <h2>Our Best Sellers</h2>
        <div class="best-seller-grid">
            {% for name, price, image, ingredients in [
                ('Tapsilog', 89, 'tapsilog.jpg', 'Beef tapa, garlic rice, fried egg'),
                ('Longsilog', 79, 'longsilog.jpg', 'Longganisa, garlic rice, fried egg'),
                ('Bangsilog', 99, 'bangsilog.jpg', 'Bangus, garlic rice, fried egg'),
                ('Sisilog', 105, 'sisilog.jpg', 'Sisig, garlic rice, fried egg')
            ] %}
            <div class="best-seller-card">
                <img src="{{ url_for('static', filename=image) }}" alt="{{ name }}" data-name="{{ name }}" data-ingredients="{{ ingredients }}">
                <div class="best-seller-info">
                    <h3>{{ name }}</h3>
                    <p>â‚±{{ price }}.00</p>
                </div>
                <form action="{{ url_for('add_to_cart') }}" method="POST">
                    <input type="hidden" name="name" value="{{ name }}">
                    <input type="hidden" name="price" value="{{ price }}">
                    <button type="submit">Add to Cart</button>
                </form>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- MENU SECTION -->
    <section id="menu" class="menu">
        <div class="menu-layout">
            <!-- Categories -->
            <aside class="categories">
                <h3>Categories</h3>
                <ul>
                    <li><a href="#silog">Silog Meals</a></li>
                    <li><a href="#appetizers">Appetizers</a></li>
                    <li><a href="#drinks">Drinks</a></li>
                </ul>
            </aside>

            <!-- Menu Items -->
            <div class="menu-items">
                <h2 id="silog">Silog Meals</h2>
                {% for name, price, image, ingredients in [
                    ('Tapsilog', 89, 'tapsilog.jpg', 'Beef tapa, garlic rice, fried egg'),
                    ('Longsilog', 79, 'longsilog.jpg', 'Longganisa, garlic rice, fried egg'),
                    ('Bangsilog', 99, 'bangsilog.jpg', 'Bangus, garlic rice, fried egg'),
                    ('Sisilog', 105, 'sisilog.jpg', 'Sisig, garlic rice, fried egg')
                ] %}
                <div class="menu-card">
                    <img src="{{ url_for('static', filename=image) }}" alt="{{ name }}" data-name="{{ name }}" data-ingredients="{{ ingredients }}">
                    <div class="menu-info">
                        <h3>{{ name }}</h3>
                        <p>â‚±{{ price }}.00</p>
                    </div>
                    <form action="{{ url_for('add_to_cart') }}" method="POST">
                        <input type="hidden" name="name" value="{{ name }}">
                        <input type="hidden" name="price" value="{{ price }}">
                        <button type="submit">+</button>
                    </form>
                </div>
                {% endfor %}

                <h2 id="appetizers">Appetizers</h2>
                {% for name, price, image, ingredients in [
                    ('Pork Sisig', 195, 'porksisig.jpg', 'Pork, onions, chili, mayonnaise'),
                    ('Lechon Kawali', 192, 'lechon.jpg', 'Crispy pork belly, garlic sauce'),
                    ('French Fries', 108, 'fries.jpg', 'Potatoes, salt, oil')
                ] %}
                <div class="menu-card">
                    <img src="{{ url_for('static', filename=image) }}" alt="{{ name }}" data-name="{{ name }}" data-ingredients="{{ ingredients }}">
                    <div class="menu-info">
                        <h3>{{ name }}</h3>
                        <p>â‚±{{ price }}.00</p>
                    </div>
                    <form action="{{ url_for('add_to_cart') }}" method="POST">
                        <input type="hidden" name="name" value="{{ name }}">
                        <input type="hidden" name="price" value="{{ price }}">
                        <button type="submit">+</button>
                    </form>
                </div>
                {% endfor %}

                <h2 id="drinks">Drinks</h2>
                {% for name, price, image, ingredients in [
                    ('Iced Tea', 45, 'icedtea.jpg', 'Tea, sugar, ice'),
                    ('Bottled Water', 20, 'water.jpg', 'Pure water, bottled')
                ] %}
                <div class="menu-card">
                    <img src="{{ url_for('static', filename=image) }}" alt="{{ name }}" data-name="{{ name }}" data-ingredients="{{ ingredients }}">
                    <div class="menu-info">
                        <h3>{{ name }}</h3>
                        <p>â‚±{{ price }}.00</p>
                    </div>
                    <form action="{{ url_for('add_to_cart') }}" method="POST">
                        <input type="hidden" name="name" value="{{ name }}">
                        <input type="hidden" name="price" value="{{ price }}">
                        <button type="submit">+</button>
                    </form>
                </div>
                {% endfor %}
            </div>

            <!-- CART -->
            <aside class="cart">
                <h3>Your Cart</h3>
                <p><a href="{{ url_for('cart') }}">ðŸ›’ View Cart</a></p>
                <form action="{{ url_for('clear_cart') }}" method="GET">
                    <button type="submit">Clear Cart</button>
                </form>
            </aside>
        </div>
    </section>

    <!-- INGREDIENTS MODAL -->
    <div id="ingredientsModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3 id="modalDishName"></h3>
            <p id="modalIngredients"></p>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 SiloganExpress. All rights reserved.</p>
    </footer>

    <script>
        // Modal Logic
        const modal = document.getElementById("ingredientsModal");
        const modalDishName = document.getElementById("modalDishName");
        const modalIngredients = document.getElementById("modalIngredients");
        const closeBtn = document.querySelector(".close");

        document.querySelectorAll('.menu-card img, .best-seller-card img').forEach(img => {
            img.addEventListener('click', () => {
                modalDishName.textContent = img.dataset.name;
                modalIngredients.textContent = img.dataset.ingredients;
                modal.style.display = "block";
            });
        });

        closeBtn.addEventListener('click', () => modal.style.display = "none");
        window.addEventListener('click', (e) => { if (e.target == modal) modal.style.display = "none"; });
    </script>
</body>
</html>
